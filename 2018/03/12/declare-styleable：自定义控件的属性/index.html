<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>declare-styleable：自定义控件的属性 20180312 | Houyongliang Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="参考：declare-styleable：自定义控件的属性 一.基本使用1.1 在res/values文件下定义一个attrs.xml文件，代码如下：12345678&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt; &amp;lt;resources&amp;gt;     &amp;lt;declare-styleable name=&quot;ToolBar&quot;&amp;gt;         &amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="declare-styleable：自定义控件的属性 20180312">
<meta property="og:url" content="http://yoursite.com/2018/03/12/declare-styleable：自定义控件的属性/index.html">
<meta property="og:site_name" content="Houyongliang Blog">
<meta property="og:description" content="参考：declare-styleable：自定义控件的属性 一.基本使用1.1 在res/values文件下定义一个attrs.xml文件，代码如下：12345678&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt; &amp;lt;resources&amp;gt;     &amp;lt;declare-styleable name=&quot;ToolBar&quot;&amp;gt;         &amp;">
<meta property="og:updated_time" content="2018-03-12T07:53:17.694Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="declare-styleable：自定义控件的属性 20180312">
<meta name="twitter:description" content="参考：declare-styleable：自定义控件的属性 一.基本使用1.1 在res/values文件下定义一个attrs.xml文件，代码如下：12345678&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt; &amp;lt;resources&amp;gt;     &amp;lt;declare-styleable name=&quot;ToolBar&quot;&amp;gt;         &amp;">
  
    <link rel="alternate" href="/atom.xml" title="Houyongliang Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Houyongliang Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-declare-styleable：自定义控件的属性" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/12/declare-styleable：自定义控件的属性/" class="article-date">
  <time datetime="2018-03-12T07:22:37.530Z" itemprop="datePublished">2018-03-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      declare-styleable：自定义控件的属性 20180312
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>参考：<br><a href="http://blog.csdn.net/congqingbin/article/details/7869730" target="_blank" rel="noopener">declare-styleable：自定义控件的属性</a></p>
<h2 id="一-基本使用"><a href="#一-基本使用" class="headerlink" title="一.基本使用"></a>一.基本使用</h2><p>1.1 在res/values文件下定义一个attrs.xml文件，代码如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt; </span><br><span class="line">&lt;resources&gt; </span><br><span class="line">    &lt;<span class="built_in">declare</span>-styleable name=<span class="string">"ToolBar"</span>&gt; </span><br><span class="line">        &lt;attr name=<span class="string">"buttonNum"</span> format=<span class="string">"integer"</span>/&gt; </span><br><span class="line">        &lt;attr name=<span class="string">"itemBackground"</span> format=<span class="string">"reference|color"</span>/&gt; </span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt; </span><br><span class="line">&lt;/resources&gt;</span><br><span class="line">注：在res-vlaues文件夹下创建资源文件attrs.xml或则自定义一个资源文件xx.xml，都可以。</span><br></pre></td></tr></table></figure></p>
<p>1.2 在布局xml中如下使用该属性:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt; </span><br><span class="line">&lt;RelativeLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span> </span><br><span class="line">    xmlns:toolbar=<span class="string">"http://schemas.android.com/apk/res/cn.zzm.toolbar"</span> </span><br><span class="line">    android:orientation=<span class="string">"vertical"</span> </span><br><span class="line">    android:layout_width=<span class="string">"fill_parent"</span> </span><br><span class="line">    android:layout_height=<span class="string">"fill_parent"</span> </span><br><span class="line">    &gt; </span><br><span class="line">    &lt;cn.zzm.toolbar.ToolBar android:id=<span class="string">"@+id/gridview_toolbar"</span> </span><br><span class="line">        android:layout_width=<span class="string">"fill_parent"</span> </span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span> </span><br><span class="line">        android:layout_alignParentBottom=<span class="string">"true"</span> </span><br><span class="line">        android:background=<span class="string">"@drawable/control_bar"</span> </span><br><span class="line">        android:gravity=<span class="string">"center"</span> </span><br><span class="line">        toolbar:buttonNum=<span class="string">"5"</span> </span><br><span class="line">        toolbar:itemBackground=<span class="string">"@drawable/control_bar_item_bg"</span>/&gt; </span><br><span class="line">&lt;/RelativeLayout&gt;</span><br></pre></td></tr></table></figure>
<p>1.3 在自定义组件中，可以如下获得xml中定义的值：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">TypedArray a = context.obtainStyledAttributes(attrs,R.styleable.ToolBar); </span><br><span class="line">buttonNum = a.getInt(R.styleable.ToolBar_buttonNum, 5); </span><br><span class="line">itemBg = a.getResourceId(R.styleable.ToolBar_itemBackground, -1);</span><br><span class="line"></span><br><span class="line">a.recycle();</span><br><span class="line">就这么简单的三步，即可完成对自定义属性的使用。</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">首先来看看attrs.xml文件。</span><br><span class="line"></span><br><span class="line">该文件是定义属性名和格式的地方，需要用&lt;<span class="built_in">declare</span>-styleable name=<span class="string">"ToolBar"</span>&gt;&lt;/<span class="built_in">declare</span>-styleable&gt;包围所有属性。其中name为该属性集的名字，主要用途是标识该属性集。那在什么地方会用到呢？主要是在第三步。看到没？在获取某属性标识时，用到<span class="string">"R.styleable.ToolBar_buttonNum"</span>，很显然，他在每个属性前面都加了<span class="string">"ToolBar_"</span>。</span><br><span class="line"></span><br><span class="line">在来看看各种属性都有些什么类型吧：string , <span class="built_in">integer</span> , dimension , reference , color , enum......</span><br><span class="line"></span><br><span class="line">前面几种的声明方式都是一致的，例如：&lt;attr name=<span class="string">"buttonNum"</span> format=<span class="string">"integer"</span>/&gt;。 </span><br><span class="line">只有enum是不同的，用法举例：</span><br><span class="line"></span><br><span class="line">&lt;attr name=<span class="string">"testEnum"</span>&gt; </span><br><span class="line">    &lt;enum name=<span class="string">"fill_parent"</span> value=<span class="string">"-1"</span>/&gt; </span><br><span class="line">    &lt;enum name=<span class="string">"wrap_content"</span> value=<span class="string">"-2"</span>/&gt; </span><br><span class="line">&lt;/attr&gt;</span><br><span class="line"></span><br><span class="line">如果该属性可同时传两种不同的属性，则可以用“|”分割开即可。</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">让我们再来看看布局xml中需要注意的事项。</span><br><span class="line"></span><br><span class="line">首先得声明一下：xmlns:toolbar=http://schemas.android.com/apk/res/cn.zzm.toolbar </span><br><span class="line">注意，“toolbar”可以换成其他的任何名字，后面的url地址必须最后一部分必须用上自定义组件的包名。自定义属性了，在属性名前加上“toolbar”即可。</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">最后来看看java代码中的注意事项。</span><br><span class="line"></span><br><span class="line">在自定义组件的构造函数中，用</span><br><span class="line"></span><br><span class="line">TypedArray a = context.obtainStyledAttributes(attrs,R.styleable.ToolBar);</span><br><span class="line"></span><br><span class="line">来获得对属性集的引用，然后就可以用“a”的各种方法来获取相应的属性值了。这里需要注意的是，如果使用的方法和获取值的类型不对的话，则会返回默认值。因此，如果一个属性是带两个及以上不用类型的属性，需要做多次判断，知道读取完毕后才能判断应该赋予何值。当然，在取完值的时候别忘了回收资源哦！</span><br></pre></td></tr></table></figure>
<h2 id="二-自定义属性数据类型简介："><a href="#二-自定义属性数据类型简介：" class="headerlink" title="二. 自定义属性数据类型简介："></a>二. 自定义属性数据类型简介：</h2><ol>
<li><p>reference：参考指定Theme中资源ID。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.定义：</span><br><span class="line">    &lt;<span class="built_in">declare</span>-styleable name=<span class="string">"My"</span>&gt;</span><br><span class="line">        &lt;attr name=<span class="string">"label"</span> format=<span class="string">"reference"</span> &gt;</span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt;</span><br><span class="line">2.使用：</span><br><span class="line"></span><br><span class="line">    &lt;Buttonzkx:label=<span class="string">"@string/label"</span> &gt;</span><br><span class="line">注意：由于reference是从资源文件中获取：所以在XML文件中写这个属性的时候必须 personattr:name=<span class="string">"@string/app_name"</span>这种格式，否则会出错</span><br></pre></td></tr></table></figure>
</li>
<li><p>Color：颜色</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.定义：</span><br><span class="line">   &lt;<span class="built_in">declare</span>-styleable name=<span class="string">"My"</span>&gt;</span><br><span class="line">        &lt;attr name=<span class="string">"textColor"</span> format=<span class="string">"color"</span> /&gt;</span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt;</span><br><span class="line">2.使用：</span><br><span class="line"></span><br><span class="line">     &lt;Button zkx:textColor=<span class="string">"#ff0000"</span>/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>boolean：布尔值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.定义：</span><br><span class="line">     &lt;<span class="built_in">declare</span>-styleable name=<span class="string">"My"</span>&gt;</span><br><span class="line">        &lt;attr name=<span class="string">"isVisible"</span> format=<span class="string">"boolean"</span> /&gt;</span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt;</span><br><span class="line">2.使用：</span><br><span class="line"></span><br><span class="line">      &lt;Button zkx:isVisible=<span class="string">"false"</span>/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>dimension：尺寸值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.定义：</span><br><span class="line">     &lt;<span class="built_in">declare</span>-styleable name=<span class="string">"My"</span>&gt;</span><br><span class="line">        &lt;attr name=<span class="string">"myWidth"</span> format=<span class="string">"dimension"</span> /&gt;</span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt;</span><br><span class="line">2.使用：</span><br><span class="line"></span><br><span class="line">     &lt;Button zkx:myWidth=<span class="string">"100dip"</span>/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>float：浮点型</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.定义：</span><br><span class="line">    &lt;<span class="built_in">declare</span>-styleable name=<span class="string">"My"</span>&gt;</span><br><span class="line">        &lt;attr name=<span class="string">"fromAlpha"</span> format=<span class="string">"float"</span> /&gt;</span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt;</span><br><span class="line">2.使用：</span><br><span class="line"></span><br><span class="line">    &lt;alpha zkx:fromAlpha=<span class="string">"0.3"</span>/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>integer：整型</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.定义：</span><br><span class="line">    &lt;<span class="built_in">declare</span>-styleable name=<span class="string">"My"</span>&gt;</span><br><span class="line">        &lt;attr name=<span class="string">"frameDuration"</span> format=<span class="string">"integer"</span> /&gt;</span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt;</span><br><span class="line">2.使用：</span><br><span class="line"></span><br><span class="line">     &lt;animated-rotate zkx:framesCount=<span class="string">"22"</span>/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>string：字符串</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.定义：</span><br><span class="line">     &lt;<span class="built_in">declare</span>-styleable name=<span class="string">"My"</span>&gt;</span><br><span class="line">        &lt;attr name=<span class="string">"Name"</span> format=<span class="string">"string"</span> /&gt;</span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt;</span><br><span class="line">2.使用：</span><br><span class="line"></span><br><span class="line">     &lt;rotate zkx:pivotX=<span class="string">"200%"</span>/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>fraction：百分数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.定义：</span><br><span class="line">    &lt;<span class="built_in">declare</span>-styleable name=<span class="string">"My"</span>&gt;</span><br><span class="line">        &lt;attr name=<span class="string">"pivotX"</span> format=<span class="string">"fraction"</span> /&gt;</span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt;</span><br><span class="line">2.使用：</span><br><span class="line"></span><br><span class="line">     &lt;rotate zkx:Name=<span class="string">"My name is zhang kun xiang"</span>/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>enum：枚举</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1.定义：</span><br><span class="line">     &lt;<span class="built_in">declare</span>-styleable name=<span class="string">"My"</span>&gt;</span><br><span class="line">        &lt;attr name=<span class="string">"language"</span>&gt;</span><br><span class="line">            &lt;enum name=<span class="string">"English"</span> value=<span class="string">"1"</span>/&gt;</span><br><span class="line">        &lt;/attr&gt;</span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt;</span><br><span class="line">2.使用：</span><br><span class="line"></span><br><span class="line">   &lt;Button zkx:language=<span class="string">"English"</span>/&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>flag：位或运算</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">1.定义：</span><br><span class="line">    &lt;<span class="built_in">declare</span>-styleable name=<span class="string">"My"</span>&gt;</span><br><span class="line">        &lt;attr name=<span class="string">"windowSoftInputMode"</span>&gt;</span><br><span class="line">    	&lt;flag name=<span class="string">"stateUnspecified"</span> value=<span class="string">"1"</span> /&gt;</span><br><span class="line">    	&lt;flag name = <span class="string">"adjustNothing"</span> value = <span class="string">"0x30"</span> /&gt;</span><br><span class="line">        &lt;/attr&gt;</span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt;</span><br><span class="line">数据多点：</span><br><span class="line">    &lt;<span class="built_in">declare</span>-styleable name=<span class="string">"名称"</span>&gt;</span><br><span class="line">        &lt;attr name=<span class="string">"windowSoftInputMode"</span>&gt;</span><br><span class="line">            &lt;flag name = <span class="string">"stateUnspecified"</span> value = <span class="string">"0"</span> /&gt;</span><br><span class="line">            &lt;flag name = <span class="string">"stateUnchanged"</span> value = <span class="string">"1"</span> /&gt;</span><br><span class="line">            &lt;flag name = <span class="string">"stateHidden"</span> value = <span class="string">"2"</span> /&gt;</span><br><span class="line">            &lt;flag name = <span class="string">"stateAlwaysHidden"</span> value = <span class="string">"3"</span> /&gt;</span><br><span class="line">            &lt;flag name = <span class="string">"stateVisible"</span> value = <span class="string">"4"</span> /&gt;</span><br><span class="line">            &lt;flag name = <span class="string">"stateAlwaysVisible"</span> value = <span class="string">"5"</span> /&gt;</span><br><span class="line">            &lt;flag name = <span class="string">"adjustUnspecified"</span> value = <span class="string">"0x00"</span> /&gt;</span><br><span class="line">            &lt;flag name = <span class="string">"adjustResize"</span> value = <span class="string">"0x10"</span> /&gt;</span><br><span class="line">            &lt;flag name = <span class="string">"adjustPan"</span> value = <span class="string">"0x20"</span> /&gt;</span><br><span class="line">            &lt;flag name = <span class="string">"adjustNothing"</span> value = <span class="string">"0x30"</span> /&gt;</span><br><span class="line">        &lt;/attr&gt;</span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt;</span><br><span class="line">2.使用：</span><br><span class="line"></span><br><span class="line">     &lt;activity android:windowSoftInputMode=<span class="string">"stateUnspecified | adjustNothing"</span>&gt;</span><br><span class="line">数据多点：</span><br><span class="line">    &lt;activity</span><br><span class="line">        android:name = <span class="string">".StyleAndThemeActivity"</span></span><br><span class="line">        android:label = <span class="string">"@string/app_name"</span></span><br><span class="line">        android:windowSoftInputMode = <span class="string">"stateUnspecified | stateUnchanged　|　stateHidden"</span>&gt;</span><br><span class="line">        &lt;intent-filter&gt;</span><br><span class="line">            &lt;action android:name = <span class="string">"android.intent.action.MAIN"</span> /&gt;</span><br><span class="line">            &lt;category android:name = <span class="string">"android.intent.category.LAUNCHER"</span> /&gt;</span><br><span class="line">        &lt;/intent-filter&gt;</span><br><span class="line">    &lt;/activity&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>属性定义时可以指定多种类型值：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.定义：</span><br><span class="line">     &lt;<span class="built_in">declare</span>-styleable name = <span class="string">"名称"</span>&gt;</span><br><span class="line">	&lt;attr name=<span class="string">"background"</span> format=<span class="string">"reference|color"</span> /&gt;</span><br><span class="line">    &lt;/<span class="built_in">declare</span>-styleable&gt;</span><br><span class="line">2.使用：</span><br><span class="line"></span><br><span class="line">       &lt;ImageView android:background = <span class="string">"@drawable/图片ID|#00FF00"</span>/&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/03/12/declare-styleable：自定义控件的属性/" data-id="cjequltqi00021kwguo5rfq0n" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/03/14/own----rxjava 2.0 源码分析/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Rxjava* 2.0 源码分析
        
      </div>
    </a>
  
  
    <a href="/2018/03/12/注解代替枚举案例/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">注解代替枚举案例 20180312</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/03/14/自己的--Rxjava 操作符/">Rxjava 操作符</a>
          </li>
        
          <li>
            <a href="/2018/03/14/OWN----Rxjava 2.0 订阅事件/">Rxjava 2.0 订阅事件</a>
          </li>
        
          <li>
            <a href="/2018/03/14/own----rxjava 2.0 源码分析/">Rxjava* 2.0 源码分析</a>
          </li>
        
          <li>
            <a href="/2018/03/12/declare-styleable：自定义控件的属性/">declare-styleable：自定义控件的属性 20180312</a>
          </li>
        
          <li>
            <a href="/2018/03/12/注解代替枚举案例/">注解代替枚举案例 20180312</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 YongliangHou<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>